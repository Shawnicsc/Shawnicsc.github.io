<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>两数之和(集合版)</title>
      <link href="/2023/10/20/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C-%E9%9B%86%E5%90%88%E7%89%88/"/>
      <url>/2023/10/20/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C-%E9%9B%86%E5%90%88%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h1 id="两数之和-集合版"><a href="#两数之和-集合版" class="headerlink" title="两数之和 - 集合版"></a>两数之和 - 集合版</h1><p><a href="https://leetcode.cn/problems/two-sum/description/">两数之和</a></p><p>此题目中，需要判断某数是否存在，且返回下标，我们可以使用 <code>Map</code> 来进行构造。</p><p>在遍历数组时，判断<code>target-nums[i]</code> 的值是否存在于<code>map</code>中，若在，则直接返回，不在，则把该数以及下标加入<code>map</code>中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">       Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">       <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">       <span class="keyword">if</span>(nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">           <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line">           <span class="keyword">if</span>(map.containsKey(temp))&#123;</span><br><span class="line">               res[<span class="number">0</span>] = i;</span><br><span class="line">               res[<span class="number">1</span>] = map.get(temp);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span>&#123;</span><br><span class="line">               map.put(nums[i],i);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> Hash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>快乐数</title>
      <link href="/2023/10/19/%E5%BF%AB%E4%B9%90%E6%95%B0/"/>
      <url>/2023/10/19/%E5%BF%AB%E4%B9%90%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="快乐数"><a href="#快乐数" class="headerlink" title="快乐数"></a>快乐数</h1><p>题目地址：<a href="https://leetcode.cn/problems/happy-number/description/">快乐数</a></p><p>题目中，提到了 <code>无限循环</code> ,而每一次需要判断<code>sum</code>是否重复，我们在判断是否有重复元素时，可以使用 Set 集合。</p><p>使用Set 集合，对每一次求得sum进行判断，直到<code>sum==1</code>为止。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isHappy</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>( n!= <span class="number">1</span> &amp;&amp; !set.contains(n))&#123;</span><br><span class="line">            set.add(n);</span><br><span class="line">            n = getSum(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//求一个数各个位置平方和</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> n )</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            sum += (n%<span class="number">10</span>)*(n%<span class="number">10</span>);</span><br><span class="line">            n/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> Hash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两个数组的交集</title>
      <link href="/2023/10/17/%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/"/>
      <url>/2023/10/17/%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h1 id="两个数组的交集"><a href="#两个数组的交集" class="headerlink" title="两个数组的交集"></a>两个数组的交集</h1><p><a href="https://leetcode.cn/problems/intersection-of-two-arrays/description/">两个数组的交集</a></p><h2 id="1-数组解法"><a href="#1-数组解法" class="headerlink" title="1.数组解法"></a>1.数组解法</h2><p>创建一个数组存储出现过的数字，遍历两个数组，遇到值就 ++ 。</p><p>有重复的元素的值指向的值会 &gt; 2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] intersection(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">        Arrays.sort(nums1);</span><br><span class="line">        Arrays.sort(nums2);</span><br><span class="line">        <span class="comment">//求出数组中最大值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> nums1[nums1.length-<span class="number">1</span>] &gt; nums2[nums2.length-<span class="number">1</span>] ? nums1[nums1.length-<span class="number">1</span>] : nums2[nums2.length-<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[max+<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : nums1)&#123;</span><br><span class="line">            <span class="keyword">if</span>(res[i] == <span class="number">0</span>) <span class="comment">//避免重复元素出现</span></span><br><span class="line">                res[i]++;</span><br><span class="line">        &#125;       </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : nums2)&#123;</span><br><span class="line">            <span class="keyword">if</span>(res[i] == <span class="number">1</span>)&#123;</span><br><span class="line">                res[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i&lt;res.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(res[i] == <span class="number">2</span>)&#123;</span><br><span class="line">                list.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[list.size()];</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Integer i : list)&#123;</span><br><span class="line">            ans[index++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-set解法"><a href="#2-set解法" class="headerlink" title="2. set解法"></a>2. set解法</h2><p>创建两个Set集合，先遍历第一个数组，将值 <code>add</code> 进去</p><p>紧接着，遍历第二个数组，利用Set的<code>contains</code>方法，在遍历第二个数组时，判断元素是否在第一个数组中出现。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] intersection(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">       <span class="keyword">if</span>(nums1.length ==<span class="number">0</span> || nums2.length == <span class="number">0</span> || nums1 == <span class="literal">null</span> || nums2 == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        Set&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i: nums1)</span><br><span class="line">            set.add(i);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : nums2)&#123;</span><br><span class="line">            <span class="keyword">if</span>(set.contains(i))</span><br><span class="line">                res.add(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Set 直接转 int数组</span></span><br><span class="line">        <span class="keyword">return</span> res.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> Hash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有效的字母异位词</title>
      <link href="/2023/10/16/%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D/"/>
      <url>/2023/10/16/%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="有效的字母异位词"><a href="#有效的字母异位词" class="headerlink" title="有效的字母异位词"></a>有效的字母异位词</h1><p><a href="https://leetcode.cn/problems/valid-anagram/description/">有效的字母异位词</a></p><h2 id="Hash-集合"><a href="#Hash-集合" class="headerlink" title="Hash 集合"></a>Hash 集合</h2><ul><li>数组</li><li>HashSet</li></ul><p><code>HashSet</code> 是基于 <code>HashMap</code> 开发出来的集合，允许有 <code>null</code> 值，但不允许有重复元素存在。</p><ul><li>HashMap</li></ul><p><code>HashMap</code> 是一个散列表，存储结构为 <code>key--value</code>。</p><h3 id="Hash-表的底层原理"><a href="#Hash-表的底层原理" class="headerlink" title="Hash 表的底层原理"></a>Hash 表的底层原理</h3><p><code>Hash</code> 表存储结构，存储的是值用过 <code>hash</code> 算法算出来的 <code>HashCode</code> ，将 <code>HashCode</code> 值存储在Hash表中，所以hash表是无序的，查找时间消耗为O(1);</p><h3 id="Hash-碰撞"><a href="#Hash-碰撞" class="headerlink" title="Hash 碰撞"></a>Hash 碰撞</h3><p>当有两个元素要插入 <code>hash表</code> 同一位置时，此时称这种情况为 <code>hash碰撞</code></p><p>解决方法：</p><ol><li>拉链法：即设立 <code>hash表</code> 时，使表长度尽可能满足需求。</li><li>线性探测：当碰撞时，后者向下探寻到没有被使用的空间，存储在第一个寻找到的空间中。</li></ol><h2 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h2><p>此题就是验证两个字符串是不是由相同的字母根据不同顺序构成。使用一个判断数组即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAnagram</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length() != t.length())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] str1 = s.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] str2 = t.toCharArray();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : str1)&#123;</span><br><span class="line">            res[c-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : str2)&#123;</span><br><span class="line">            res[c-<span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : res)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> Hash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot+Vue实现后台管理系统</title>
      <link href="/2023/10/16/SpringBoot-Vue%E5%AE%9E%E7%8E%B0%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/10/16/SpringBoot-Vue%E5%AE%9E%E7%8E%B0%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h1><h2 id="1-搭建前端项目框架"><a href="#1-搭建前端项目框架" class="headerlink" title="1. 搭建前端项目框架"></a>1. 搭建前端项目框架</h2><ul><li><p>使用 <code>vue</code> ， 创建了 <code>vue2</code> 项目。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue</span><br></pre></td></tr></table></figure></li><li><p>集成了 ElementUI 组件库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure></li><li><p>使用 container 布局容器，快速搭建后台框架</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-container style=&quot;height: 500px; border: 1px solid #eee&quot;&gt;</span><br><span class="line">  &lt;el-aside width=&quot;200px&quot; style=&quot;background-color: rgb(238, 241, 246)&quot;&gt;</span><br><span class="line">    &lt;el-menu :default-openeds=&quot;[&#x27;1&#x27;, &#x27;3&#x27;]&quot;&gt;</span><br><span class="line">      &lt;el-submenu index=&quot;1&quot;&gt;</span><br><span class="line">        &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-message&quot;&gt;&lt;/i&gt;导航一&lt;/template&gt;</span><br><span class="line">        &lt;el-menu-item-group&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;分组一&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;1-1&quot;&gt;选项1&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;1-2&quot;&gt;选项2&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-menu-item-group title=&quot;分组2&quot;&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;1-3&quot;&gt;选项3&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-submenu index=&quot;1-4&quot;&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;选项4&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;1-4-1&quot;&gt;选项4-1&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-submenu&gt;</span><br><span class="line">      &lt;/el-submenu&gt;</span><br><span class="line">      &lt;el-submenu index=&quot;2&quot;&gt;</span><br><span class="line">        &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-menu&quot;&gt;&lt;/i&gt;导航二&lt;/template&gt;</span><br><span class="line">        &lt;el-menu-item-group&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;分组一&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;2-1&quot;&gt;选项1&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;2-2&quot;&gt;选项2&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-menu-item-group title=&quot;分组2&quot;&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;2-3&quot;&gt;选项3&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-submenu index=&quot;2-4&quot;&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;选项4&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;2-4-1&quot;&gt;选项4-1&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-submenu&gt;</span><br><span class="line">      &lt;/el-submenu&gt;</span><br><span class="line">      &lt;el-submenu index=&quot;3&quot;&gt;</span><br><span class="line">        &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-setting&quot;&gt;&lt;/i&gt;导航三&lt;/template&gt;</span><br><span class="line">        &lt;el-menu-item-group&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;分组一&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;3-1&quot;&gt;选项1&lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;3-2&quot;&gt;选项2&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-menu-item-group title=&quot;分组2&quot;&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;3-3&quot;&gt;选项3&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">        &lt;el-submenu index=&quot;3-4&quot;&gt;</span><br><span class="line">          &lt;template slot=&quot;title&quot;&gt;选项4&lt;/template&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;3-4-1&quot;&gt;选项4-1&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-submenu&gt;</span><br><span class="line">      &lt;/el-submenu&gt;</span><br><span class="line">    &lt;/el-menu&gt;</span><br><span class="line">  &lt;/el-aside&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;el-container&gt;</span><br><span class="line">    &lt;el-header style=&quot;text-align: right; font-size: 12px&quot;&gt;</span><br><span class="line">      &lt;el-dropdown&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-setting&quot; style=&quot;margin-right: 15px&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class="line">          &lt;el-dropdown-item&gt;查看&lt;/el-dropdown-item&gt;</span><br><span class="line">          &lt;el-dropdown-item&gt;新增&lt;/el-dropdown-item&gt;</span><br><span class="line">          &lt;el-dropdown-item&gt;删除&lt;/el-dropdown-item&gt;</span><br><span class="line">        &lt;/el-dropdown-menu&gt;</span><br><span class="line">      &lt;/el-dropdown&gt;</span><br><span class="line">      &lt;span&gt;王小虎&lt;/span&gt;</span><br><span class="line">    &lt;/el-header&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;el-main&gt;</span><br><span class="line">      &lt;el-table :data=&quot;tableData&quot;&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;date&quot; label=&quot;日期&quot; width=&quot;140&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;name&quot; label=&quot;姓名&quot; width=&quot;120&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;address&quot; label=&quot;地址&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">      &lt;/el-table&gt;</span><br><span class="line">    &lt;/el-main&gt;</span><br><span class="line">  &lt;/el-container&gt;</span><br><span class="line">&lt;/el-container&gt;</span><br></pre></td></tr></table></figure></li><li><p>修改页面样式，拉长长度，增加分割线。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> java-project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>螺旋矩阵</title>
      <link href="/2023/10/15/%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/"/>
      <url>/2023/10/15/%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<h1 id="螺旋矩阵"><a href="#螺旋矩阵" class="headerlink" title="螺旋矩阵"></a>螺旋矩阵</h1><p><a href="https://leetcode.cn/problems/spiral-matrix-ii/description/">螺旋矩阵</a></p><p>螺旋矩阵，此类题目考察的是对变化过程的模拟。</p><p><img src="/2023/10/15/%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/lx.png" alt="变化过程图"></p><ul><li>上层 由左往右到最后一格前</li><li>右层 从上往下</li><li>下层 由右往左</li><li>左层 由下往上</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> i,j;</span><br><span class="line">        <span class="keyword">while</span>(loop++ &lt; n/<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">// 模拟上层从左到右</span></span><br><span class="line">            <span class="keyword">for</span>(j = start ; j&lt; n-loop ; j++)&#123;</span><br><span class="line">                res[start][j] = num++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//模拟右侧从上到下</span></span><br><span class="line">            <span class="keyword">for</span>(i = start ; i &lt; n-loop ; i++)&#123;</span><br><span class="line">                res[i][j] = num++; </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 模拟下层 由右往左</span></span><br><span class="line">            <span class="keyword">for</span>( ; j &gt;= loop; j--)&#123;</span><br><span class="line">                res[i][j] = num++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//模拟左侧 由下到上</span></span><br><span class="line">            <span class="keyword">for</span>(;i &gt;= loop ; i--)&#123;</span><br><span class="line">                res[i][j]=num++;</span><br><span class="line">            &#125;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">            res[start][start] = num;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有序数组的平方</title>
      <link href="/2023/10/15/%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9/"/>
      <url>/2023/10/15/%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="有序数组的平方"><a href="#有序数组的平方" class="headerlink" title="有序数组的平方"></a>有序数组的平方</h1><p><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/description/">有序数组的平方</a></p><p>此题目使用快慢指针法，一个指针指向数组开头，一个指针指向数组末尾。</p><p>因为是有序数组，最大值不是在左边，就是在右边，不会在中间。</p><p>使用快慢指针，可以得出 </p><p>如果<code>A[i] * A[i] &lt; A[j] * A[j]</code> 那么<code>result[k--] = A[j] * A[j]</code>;</p><p>如果<code>A[i] * A[i] &gt;= A[j] * A[j]</code> 那么<code>result[k--] = A[i] * A[i]</code>;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortedSquares(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">1</span>)&#123;</span><br><span class="line">            nums[<span class="number">0</span>] = nums[<span class="number">0</span>]*nums[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">return</span> nums;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> k=nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        <span class="keyword">while</span>(k &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]*nums[i] &lt; nums[j]*nums[j])&#123;</span><br><span class="line">                res[k--] = nums[j]*nums[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]*nums[i] &gt;= nums[j]*nums[j] )&#123;</span><br><span class="line">                res[k--] = nums[i]*nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;    </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>长度最小的子数组</title>
      <link href="/2023/10/15/%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84/"/>
      <url>/2023/10/15/%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h1 id="长度最小的子数组"><a href="#长度最小的子数组" class="headerlink" title="长度最小的子数组"></a>长度最小的子数组</h1><p><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/description/">长度最小的子数组</a></p><h2 id="滑动窗口法"><a href="#滑动窗口法" class="headerlink" title="滑动窗口法"></a>滑动窗口法</h2><p>滑动窗口类似于双指针法，也是使用双指针，但是类似一个窗口根据不同条件在原数组上滑动。</p><p>滑动窗口的确定主要三点:</p><ul><li>窗口内是什么？</li><li>如何移动窗口的起始位置？</li><li>如何移动窗口的结束位置？</li></ul><p>窗口就是 满足其和 ≥ s 的长度最小的 连续 子数组。</p><p>窗口的起始位置如何移动：如果当前窗口的值大于s了，窗口就要向前移动了（也就是该缩小了）。</p><p>窗口的结束位置如何移动：窗口的结束位置就是遍历数组的指针，也就是for循环里的索引。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(;right&lt; nums.length;right++)&#123;</span><br><span class="line">            sum += nums[right];</span><br><span class="line">            <span class="keyword">while</span>(sum &gt;= target)&#123;</span><br><span class="line">                subLength = right - left +<span class="number">1</span>;</span><br><span class="line">                <span class="comment">// 寻找最小区间</span></span><br><span class="line">                result = result &lt; subLength ? result : subLength;</span><br><span class="line">                <span class="comment">//起始位置往前缩小</span></span><br><span class="line">                sum -= nums[left++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 若 result未被赋值，则取0</span></span><br><span class="line">        <span class="keyword">return</span> result == Integer.MAX_VALUE ? <span class="number">0</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="滑动窗口求解模版"><a href="#滑动窗口求解模版" class="headerlink" title="滑动窗口求解模版"></a>滑动窗口求解模版</h2><p>最小滑窗模板：给定数组 nums，定义滑窗的左右边界 i, j，求满足某个条件的滑窗的最小长度。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> j &lt; (nums.length):</span><br><span class="line">    <span class="comment">//判断[i, j]是否满足条件</span></span><br><span class="line">    <span class="keyword">while</span> (满足条件)：</span><br><span class="line">        <span class="comment">//更新结果</span></span><br><span class="line">        i += <span class="number">1</span> <span class="comment">//最大程度的压缩i，使得滑窗尽可能的小</span></span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure><p>最大滑窗模板：给定数组 nums，定义滑窗的左右边界 i, j，求满足某个条件的滑窗的最大长度。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (j &lt; nums.length):</span><br><span class="line">    <span class="comment">//判断[i, j]是否满足条件</span></span><br><span class="line">    <span class="keyword">while</span> (不满足条件)：</span><br><span class="line">        i += <span class="number">1</span> <span class="comment">//保守的压缩i，一旦满足条件了就退出压缩i的过程</span></span><br><span class="line">    <span class="comment">//更新结果（注意在while外更新！）</span></span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>移除数组中的元素</title>
      <link href="/2023/10/15/%E7%A7%BB%E9%99%A4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/"/>
      <url>/2023/10/15/%E7%A7%BB%E9%99%A4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="3-移除元素"><a href="#3-移除元素" class="headerlink" title="3. 移除元素"></a>3. 移除元素</h1><p><a href="https://leetcode.cn/problems/remove-element/description/">移除数组中的元素</a></p><h2 id="快慢指针法"><a href="#快慢指针法" class="headerlink" title="快慢指针法"></a>快慢指针法</h2><p>通过一个快指针和慢指针在一个for循环下完成两个for循环的工作。</p><p>使用两个指针，一个快指针用于寻找新数组元素，一个慢指针更新新数组下标位置</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeElement</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">slowIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">fastIndex</span> <span class="operator">=</span> <span class="number">0</span>;fastIndex&lt;nums.length ;fastIndex++)</span><br><span class="line">            <span class="keyword">if</span>(val != nums[fastIndex])</span><br><span class="line">                nums[slowIndex++] = nums[fastIndex];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> slowIndex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二分查找</title>
      <link href="/2023/10/15/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
      <url>/2023/10/15/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="2、二分法"><a href="#2、二分法" class="headerlink" title="2、二分法"></a>2、二分法</h1><p>二分法是一种能极大节省查找时间复杂度的算法，使用条件：</p><ol><li>数组为有序数组</li><li>数组中没有重复元素</li></ol><h2 id="2-1-Leetcode-例题"><a href="#2-1-Leetcode-例题" class="headerlink" title="2.1 Leetcode 例题"></a>2.1 Leetcode 例题</h2><p><a href="https://leetcode.cn/problems/binary-search/">二分查找</a></p><p>二分查找此类题目 关键点在于找对区间，找好临界值点，可分为两种情况</p><h3 id="1-区间为左闭右闭类型"><a href="#1-区间为左闭右闭类型" class="headerlink" title="1. 区间为左闭右闭类型"></a>1. 区间为左闭右闭类型</h3><pre><code>此时 ``while left &lt;= right`` 需要取等，因为此时相等时的mid值有意义可以取到，当``nums[mid]&gt;target``时·，``right = mid-1``，因为此时mid下标所指的值一定不等于target所以可以往前再移一位。</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length-<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]==target)</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)</span><br><span class="line">            &#123;</span><br><span class="line">                right = mid-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; target)</span><br><span class="line">            &#123;</span><br><span class="line">                left = mid +<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-区间为左闭右开类型"><a href="#2-区间为左闭右开类型" class="headerlink" title="2. 区间为左闭右开类型"></a>2. 区间为左闭右开类型</h3><pre><code>此时 ``while left &lt; right`` 需要取等，因为此时相等时的mid值没有意义，当``nums[mid] &gt; target``时·，``right = mid``，这样在下一次比较中，因为右区间为开，mid会被排除在查找区间外</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]==target)</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)</span><br><span class="line">            &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; target)</span><br><span class="line">            &#123;</span><br><span class="line">                left = mid +<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>环形链表</title>
      <link href="/2023/10/15/%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/"/>
      <url>/2023/10/15/%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="环形链表"><a href="#环形链表" class="headerlink" title="环形链表"></a>环形链表</h1><p><a href="https://leetcode.cn/problems/linked-list-cycle-ii/description/">环形链表</a></p><p>此题解题思路分为两部分</p><h2 id="1-判断链表中是否有环"><a href="#1-判断链表中是否有环" class="headerlink" title="1. 判断链表中是否有环"></a>1. 判断链表中是否有环</h2><p>可以使用快慢指针法，<code>slow</code> 每次往前走一格，<code>fast</code> 每次往前走两格。这样每次 <code>fast</code> 会比 <code>slow</code> 多走一格，相当于往前去追 <code>slow</code> ，若存在环，则 <code>slow</code> 和 <code>fast</code> 一定会相遇，定义其相遇的节点为 相遇节点 <code>index1</code>。</p><p>可设距离如下图所示，则 <code>slow</code> 走过的距离为 $x+y$ , <code>fast</code> 走过的距离为 $x+y+n(y+z)$，而 <code>fast</code> 走过的距离应该是为 <code>slow</code> 的两倍，所以有 $2*(x+y) &#x3D; x+y+n(y+z)$</p><p>最后可得 $$x+y &#x3D; n(y+z)$$</p><p>要寻找的节点是起始节点，也就是要寻找 $x$ 的值，化简上述式子可得 $$x &#x3D; (n-1)(y+z)+z$$</p><p>当 $n&#x3D;1$ 时，有 $x &#x3D; z$，由此可得，我们寻找环起始节点的方法。</p><h2 id="2-寻找环起始节点"><a href="#2-寻找环起始节点" class="headerlink" title="2. 寻找环起始节点"></a>2. 寻找环起始节点</h2><p>判断链表存在环后，需要寻找环的起始节点。此处也是使用双指针法，一个从相遇节点处开始往前移动，一个从head处往前移动，这样到最后两指针相遇位置就会是环的起始节点</p><p><img src="/2023/10/15/%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/huan.png" alt="环"></p>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链表相交</title>
      <link href="/2023/10/15/%E9%93%BE%E8%A1%A8%E7%9B%B8%E4%BA%A4/"/>
      <url>/2023/10/15/%E9%93%BE%E8%A1%A8%E7%9B%B8%E4%BA%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="链表相交"><a href="#链表相交" class="headerlink" title="链表相交"></a>链表相交</h1><p><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/description/">链表相交</a></p><h2 id="1-O-n-解法"><a href="#1-O-n-解法" class="headerlink" title="1. O(n) 解法"></a>1. O(n) 解法</h2><p>首先计算出两个链表的长度差，使最长的链表先移动到两链表相同长度之处，再同时往后移动，边移动边比较。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(headA == <span class="literal">null</span> || headB == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curA</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curB</span> <span class="operator">=</span> headB;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">cntA</span> <span class="operator">=</span><span class="number">0</span>, cntB=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(curA != <span class="literal">null</span>)&#123;</span><br><span class="line">            cntA++;</span><br><span class="line">            curA=curA.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(curB != <span class="literal">null</span>)&#123;</span><br><span class="line">            cntB++;</span><br><span class="line">            curB=curB.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        curA = headA;</span><br><span class="line">        curB = headB;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(cntB &gt; cntA)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">tempLen</span> <span class="operator">=</span> cntA;</span><br><span class="line">            cntA = cntB;</span><br><span class="line">            cntB = tempLen;</span><br><span class="line"></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> curA;</span><br><span class="line">            curA = curB;</span><br><span class="line">            curB = temp; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">gap</span> <span class="operator">=</span> cntA -cntB;</span><br><span class="line">        <span class="keyword">while</span>(gap-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            curA = curA.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(curA!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curA == curB)</span><br><span class="line">                <span class="keyword">return</span> curA;</span><br><span class="line"></span><br><span class="line">            curA = curA.next;</span><br><span class="line">            curB = curB.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-双指针解法"><a href="#2-双指针解法" class="headerlink" title="2. 双指针解法"></a>2. 双指针解法</h2><p>设 A 链表长度为 $a$ , B 链表长度为 $b$ , 二者公共后缀链表长度为 $c$。</p><p>设两个指针 <code>curA</code> ,<code>curB</code> 。</p><p><code>curA</code>先遍历链表 A，再遍历链表 B 至两链表相交节点处。 遍历链表A，经过的长度为 $a$ , 遍历遍历链表 B 至两链表相交节点处，经过的长度为 $b-c$ , 则<code>curA</code>经过的长度为 $$a+(b-c)$$</p><p>同理，<code>curB</code> 先遍历链表 B，再遍历链表 A 至两链表相交节点处。经过的长度为 $$b+(a-c)$$</p><p>显然 $$a+(b-c) &#x3D; b+(a-c)$$</p><p>所以，如果存在相交节点，则两指针一定会相遇。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curA</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curB</span> <span class="operator">=</span> headB;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(curA!=curB)&#123;</span><br><span class="line">            curA = curA != <span class="literal">null</span> ? curA.next : headB;</span><br><span class="line">            curB = curB != <span class="literal">null</span> ? curB.next : headA;</span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> curA;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除链表的倒数第n个元素</title>
      <link href="/2023/10/15/%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACn%E4%B8%AA%E5%85%83%E7%B4%A0/"/>
      <url>/2023/10/15/%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACn%E4%B8%AA%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="删除链表的倒数第n个元素"><a href="#删除链表的倒数第n个元素" class="headerlink" title="删除链表的倒数第n个元素"></a>删除链表的倒数第n个元素</h1><p><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/description/">删除链表的倒数第n个元素</a></p><p>双指针的经典应用</p><p>fast指针先走 n+1 步（<code>n+1</code> 是使slow指针能指向删除节点的前一个节点），再使<code>fast</code>指针和<code>slow</code>指针同时往前走 直至 <code>fast </code>指针为 <code>null</code>。(当fast指针为空时，即fast走到了链表末尾，此时两指针距离 <code>n+1</code> ，即为倒数第n个元素的前一元素)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个虚拟头节点</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        cur.next = head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> cur,fast=cur;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// fast 先走 n+1 步</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 同时向前走</span></span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="literal">null</span>)&#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 删除节点</span></span><br><span class="line">        slow.next = slow.next.next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两两交换链表中的元素</title>
      <link href="/2023/10/15/%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/"/>
      <url>/2023/10/15/%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="两两交换链表中的元素"><a href="#两两交换链表中的元素" class="headerlink" title="两两交换链表中的元素"></a>两两交换链表中的元素</h1><p><a href="https://leetcode.cn/problems/swap-nodes-in-pairs/description/">两两交换链表中的元素</a></p><p>采用模拟的方式，添加一个虚拟头节点，进行交换。</p><p><img src="/2023/10/15/%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/exchange.png" alt="交换顺序"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">swapPairs</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        ans.next = head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> ans;</span><br><span class="line">        ListNode first,temp,second; </span><br><span class="line">        <span class="keyword">while</span>(cur != <span class="literal">null</span> &amp;&amp; cur.next!=<span class="literal">null</span> &amp;&amp; cur.next.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">            first = cur.next; <span class="comment">//存储第一个节点</span></span><br><span class="line">            second = cur.next.next; <span class="comment">//存储第二个节点</span></span><br><span class="line">            temp = cur.next.next.next; <span class="comment">// 存储第三个节点</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 交换开始</span></span><br><span class="line">            cur.next = second;</span><br><span class="line">            second.next = first;</span><br><span class="line">            first.next = temp;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 更新cur 的位置</span></span><br><span class="line">            cur = first;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>翻转链表</title>
      <link href="/2023/10/15/%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8/"/>
      <url>/2023/10/15/%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="翻转链表"><a href="#翻转链表" class="headerlink" title="翻转链表"></a>翻转链表</h1><p><a href="https://leetcode.cn/problems/reverse-linked-list/description/">翻转链表</a></p><p>此题难点在于怎么在原链表基础上，不使用额外空间将链表进行翻转。</p><p>解题思路：</p><p>采用两个指针，一个遍历数组，一个指向前一个指针的前一项，每次改变前一个指针的指向，用temp存储，以便遍历。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        ListNode pre=<span class="literal">null</span> , cur=head;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = pre;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计链表</title>
      <link href="/2023/10/15/%E8%AE%BE%E8%AE%A1%E9%93%BE%E8%A1%A8/"/>
      <url>/2023/10/15/%E8%AE%BE%E8%AE%A1%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="设计链表"><a href="#设计链表" class="headerlink" title="设计链表"></a>设计链表</h1><p><a href="https://leetcode.cn/problems/design-linked-list/">设计链表</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    Node next;</span><br><span class="line">    Node()&#123;&#125;</span><br><span class="line">    Node(<span class="type">int</span> val)&#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyLinkedList</span> &#123;</span><br><span class="line">    <span class="type">int</span> size; <span class="comment">//存储节点个数</span></span><br><span class="line">    Node head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyLinkedList</span><span class="params">()</span> &#123;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">        head = <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(index &lt; <span class="number">0</span> || index &gt;= size)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=index;i++)&#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cur.val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtHead</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        addAtIndex(<span class="number">0</span>,val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtTail</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        addAtIndex(size,val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtIndex</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;size)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &lt; <span class="number">0</span>)</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i&lt;index;i++)</span><br><span class="line">            cur = cur.next;</span><br><span class="line"></span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(val);</span><br><span class="line">        node.next = cur.next;</span><br><span class="line">        cur.next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAtIndex</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(index&lt;<span class="number">0</span> || index &gt;= size)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;index ;i++)</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        </span><br><span class="line">        cur.next = cur.next.next;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>移除链表中的元素</title>
      <link href="/2023/10/15/%E7%A7%BB%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/"/>
      <url>/2023/10/15/%E7%A7%BB%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="移除链表中的元素"><a href="#移除链表中的元素" class="headerlink" title="移除链表中的元素"></a>移除链表中的元素</h1><p><a href="https://leetcode.cn/problems/remove-linked-list-elements/">移除链表中的元素</a><br>移除元素的主要操作是将 </p><ol><li>找到待移除节点的前一个节点node</li><li>将 node 的指针域指向其下下个节点，即 待移除节点的下一个节点</li></ol><p>注意事项：</p><ul><li>有头节点，移除头节点时，需单独分析</li><li>删除重复的值时 使用while循环。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeElements</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">// 删除头节点</span></span><br><span class="line">         <span class="keyword">while</span>(head!=<span class="literal">null</span> &amp;&amp; head.val==val)&#123;</span><br><span class="line">            head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">root</span> <span class="operator">=</span> head;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(root != <span class="literal">null</span>)</span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="comment">//使用while删除重复的值</span></span><br><span class="line">            <span class="keyword">while</span>(root.next!=<span class="literal">null</span> &amp;&amp; root.next.val == val)&#123;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> root.next;</span><br><span class="line">                root.next = temp.next;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            root = root.next;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-1-添加虚拟头节点"><a href="#2-1-添加虚拟头节点" class="headerlink" title="2.1 添加虚拟头节点"></a>2.1 添加虚拟头节点</h2><p>在删除链表元素时，由于头节点是没有前驱的，所以我们在删除时需要加入许多临界的判断。</p><p>使用虚拟头节点，相当于给头节点加入一个前驱，此时便可直接遍历。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeElements</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">       <span class="comment">// 创建虚拟头节点</span></span><br><span class="line">       <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">       pre.next = head ;</span><br><span class="line"></span><br><span class="line">       <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre;</span><br><span class="line">       <span class="keyword">while</span>(cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">         <span class="comment">//控制删除重复元素</span></span><br><span class="line">           <span class="keyword">if</span>(cur.next.val == val)</span><br><span class="line">                cur.next = cur.next.next;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cur = cur.next;        </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="type">ListNode</span> <span class="variable">res</span> <span class="operator">=</span> pre.next;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 刷题笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> LinkedList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github OAuth 认证登录</title>
      <link href="/2023/10/14/Github-OAuth-%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/"/>
      <url>/2023/10/14/Github-OAuth-%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Github-OAuth-认证登录"><a href="#Github-OAuth-认证登录" class="headerlink" title="Github OAuth 认证登录"></a>Github OAuth 认证登录</h1><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>在完成项目时，可能会使用到第三方登录的情况，例如：WeChat、QQ，而Github OAuth 也是其中的一种。</p><p>Github OAuth 是一种基于授权码的认证模式，由github服务器完成授权码的认证和用户信息的传输。其登录模式大致可列为以下几个步骤</p><ol><li>用户点击登录，网站 A 让用户跳转到 GitHub。</li><li>GitHub 要求用户登录，然后询问”A 网站要求获得 xx 权限，你是否同意？”</li><li>用户同意，GitHub 就会重定向回 A 网站，同时发回一个授权码。</li><li>A 网站使用授权码，向 GitHub 请求令牌。</li><li>GitHub 返回令牌.</li><li>A 网站使用令牌，向 GitHub 请求用户数据。</li></ol><p>本文旨在介绍Github OAuth的一种简单用法，无需自己搭建服务器，简单调用API，用于自己的项目之中。</p><h2 id="2-前置准备"><a href="#2-前置准备" class="headerlink" title="2. 前置准备"></a>2. 前置准备</h2><p>在正式在项目中使用OAuth API 前，我们需要先创建一个OAuth Application,访问网址 <a href="https://github.com/settings/applications/new">https://github.com/settings/applications/new</a><br><img src="/2023/10/14/Github-OAuth-%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/application.png" alt="application"></p><p>在开发环境中，可如下图创建：<br><img src="/2023/10/14/Github-OAuth-%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/create.png" alt="create"></p><p>其中<code>Home page URL</code>，根据具体需求创建，<code>Authorization callback URL</code> 根据不同的环境进行修改。</p><p>创建完毕后，我们可以获得两个独特参数，一个是client_id，一个是client_secret</p><h2 id="3-前端设置认证路径"><a href="#3-前端设置认证路径" class="headerlink" title="3. 前端设置认证路径"></a>3. 前端设置认证路径</h2><p>在 登录 按钮处设置一个跳转，跳转至github规定的认证网址，携带你的client_id，以及一些对应的参数。通过此处跳转访问，用户可以获得一个授权码(<code>code</code>)。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/login/oauth/authorize?client_id=(你的client_id)&amp;redirect_uri=http://localhost:8080/callback&amp;scope=user&amp;state=1&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中，<code>scope</code> 对应 用户授权范围</p><ul><li><code>user</code> – 用户信息</li><li><code>repo</code> – 用户仓库</li></ul><p><code>state</code> 是一个随意值，用来防止跨站请求伪造攻击。</p><p><code>redirect_uri</code> 是你授权后跳转的网页路径。</p><h2 id="4-用户携带code，去获得令牌"><a href="#4-用户携带code，去获得令牌" class="headerlink" title="4. 用户携带code，去获得令牌"></a>4. 用户携带code，去获得令牌</h2><p>用户携带<code>code</code>和<code>state</code>向github服务器发送一个<code>post</code>请求,获得返回的令牌 access_token</p><p>这里使用<a href="https://square.github.io/okhttp/">okHttp</a> 实现 POST 和 GET 请求的发送,使用 <code>fastJson</code> 处理 <code>json</code> 数据。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">accessTokenProvider</span><span class="params">(AccessToken accessToken)</span>&#123;</span><br><span class="line">       <span class="type">MediaType</span> <span class="variable">mediaType</span> <span class="operator">=</span> MediaType.get(<span class="string">&quot;application/json; charset=utf-8&quot;</span>);</span><br><span class="line">       <span class="type">OkHttpClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OkHttpClient</span>();</span><br><span class="line"></span><br><span class="line">       <span class="type">RequestBody</span> <span class="variable">body</span> <span class="operator">=</span> RequestBody.create(mediaType,JSON.toJSONString(accessToken));</span><br><span class="line">       <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder()</span><br><span class="line">               .url(<span class="string">&quot;https://github.com/login/oauth/access_token&quot;</span>) <span class="comment">//访问获取access_token的路径</span></span><br><span class="line">               .post(body)</span><br><span class="line">               .build();</span><br><span class="line">           <span class="keyword">try</span> (<span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> client.newCall(request).execute()) &#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> response.body().string();</span><br><span class="line">               <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> string.split(<span class="string">&quot;&amp;&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>];</span><br><span class="line">               System.out.println(token);</span><br><span class="line">               <span class="keyword">return</span> token;</span><br><span class="line">           &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>这里的AccessToken是笔者封装的类，包含此次 POST 请求所需的参数。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccessToken</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String client_id;</span><br><span class="line">    <span class="keyword">public</span> String client_secret;</span><br><span class="line">    <span class="keyword">public</span> String state;</span><br><span class="line">    <span class="keyword">public</span> String redirect_uri;</span><br><span class="line">    <span class="keyword">public</span> String code;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的参数可以设置为全局的常量，也可写进配置文件。</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">github.client.id</span>=<span class="string">你的client_id</span></span><br><span class="line"><span class="attr">github.client.secret</span>=<span class="string">你的client_secret</span></span><br><span class="line"><span class="attr">&lt;!--</span> <span class="string">这里的uri是你获得accesstoken后返回的地址 --&gt;</span></span><br><span class="line"><span class="attr">github.redirect.uri</span>=<span class="string">http://localhost:8080/callback</span></span><br></pre></td></tr></table></figure><h2 id="5-用户携带令牌，获取用户信息"><a href="#5-用户携带令牌，获取用户信息" class="headerlink" title="5. 用户携带令牌，获取用户信息"></a>5. 用户携带令牌，获取用户信息</h2><p>用户得到 <code>access_token</code> 后，为了获取用户信息，需要携带access_token，向 <code>github</code> 服务器发送 GET 请求，从而根据之前设定的 <code>scope</code> 获取对应的信息。</p><p>此处同样使用 <code>okHttp</code> 和 <code>fastJson</code> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GithubUser <span class="title function_">userProvider</span><span class="params">(String accessToken)</span>&#123;</span><br><span class="line">        <span class="type">OkHttpClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OkHttpClient</span>();</span><br><span class="line">        <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder()</span><br><span class="line">                    .url(<span class="string">&quot;https://api.github.com/user&quot;</span>)</span><br><span class="line">                    .header(<span class="string">&quot;Authorization&quot;</span>, <span class="string">&quot;Bearer &quot;</span> + accessToken)</span><br><span class="line">                    .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> client.newCall(request).execute()) &#123;</span><br><span class="line">            <span class="comment">// 获得用户信息</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> response.body().string();</span><br><span class="line">            <span class="comment">//对用户信息进行处理，封装成类</span></span><br><span class="line">            <span class="type">GithubUser</span> <span class="variable">githubUser</span> <span class="operator">=</span> JSON.parseObject(string, GithubUser.class);</span><br><span class="line">            System.out.println(githubUser);</span><br><span class="line">            <span class="keyword">return</span> githubUser;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="6-Controller-层控制认证"><a href="#6-Controller-层控制认证" class="headerlink" title="6. Controller 层控制认证"></a>6. Controller 层控制认证</h2><p>使用 <code>SpringMVC</code> ，在 <code>controller</code> 实现对第三方登录的控制，以及持久化登录的实现。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@GetMapping(&quot;/callback&quot;)</span> <span class="comment">// 设置路径和前文获取accesstoken的uri对应</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">callback</span><span class="params">(<span class="meta">@RequestParam(name=&quot;code&quot;)</span> String code,</span></span><br><span class="line"><span class="params">                       <span class="meta">@RequestParam(name=&quot;state&quot;)</span> String state,</span></span><br><span class="line"><span class="params">                       HttpServletRequest request,</span></span><br><span class="line"><span class="params">                       HttpServletResponse response)</span>&#123;</span><br><span class="line">    <span class="type">AccessToken</span> <span class="variable">accessToken</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AccessToken</span>();</span><br><span class="line">    accessToken.setCode(code);</span><br><span class="line">    accessToken.setClient_id(clientId);</span><br><span class="line">    accessToken.setClient_secret(clientSecret);</span><br><span class="line">    accessToken.setState(state);</span><br><span class="line">    accessToken.setRedirect_uri(redirectUri);</span><br><span class="line">    <span class="comment">// 获取accessToken</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> githubProvider.accessTokenProvider(accessToken);</span><br><span class="line">    <span class="comment">// 获取用户信息</span></span><br><span class="line">    <span class="type">GithubUser</span> <span class="variable">githubUser</span> <span class="operator">=</span> githubProvider.userProvider(token);</span><br><span class="line">    <span class="keyword">if</span>(githubUser!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//登录成功，插入数据库并设置cookie</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setName(githubUser.getName());</span><br><span class="line">        user.setBio(githubUser.getBio());</span><br><span class="line">        <span class="type">String</span> <span class="variable">Token</span> <span class="operator">=</span> UUID.randomUUID().toString();</span><br><span class="line">        user.setToken(Token);</span><br><span class="line">        user.setAccountId(githubUser.getId());</span><br><span class="line">        user.setGmtCreate(System.currentTimeMillis());</span><br><span class="line">        user.setGmtModified(user.getGmtCreate());</span><br><span class="line">        userMapper.add(user);</span><br><span class="line">        <span class="comment">//设置cookie，以实现持久化登录</span></span><br><span class="line">        response.addCookie(<span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;token&quot;</span>,Token));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="string">&quot;redirect:/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7、提升-–-TODO"><a href="#7、提升-–-TODO" class="headerlink" title="7、提升 – TODO"></a>7、提升 – TODO</h2><p>由于Github服务器处于外国，在国内访问，有时十分缓慢，即使使用了科学上网的方式，在用户信息传输时，会抛出 <code>SocketTimeOutException</code>。</p><p>看了其他的博客，解决方法是</p><ul><li>在项目中配置全局代理 <code>proxy</code> ，使访问时的速度变快</li><li>增加 <code>Socket</code> 连接和传输超时的时间。</li></ul><p>此处有待实验和解决。</p>]]></content>
      
      
      <categories>
          
          <category> 技术学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> OAuth </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring基础知识总结</title>
      <link href="/2023/09/28/Spring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
      <url>/2023/09/28/Spring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="1-IOC–容器"><a href="#1-IOC–容器" class="headerlink" title="1.IOC–容器"></a>1.IOC–容器</h2><h3 id="1-1-应用场景"><a href="#1-1-应用场景" class="headerlink" title="1.1 应用场景"></a>1.1 应用场景</h3><p> IOC – 用于集中封装、组织、管理对象，该技术用于在开发中，降低代码的耦合度，使更新替换的效率更高。</p><p> IOC思想：将开发者主动new 生成对象模式 -&gt; 由IOC工厂统一提供对象的模式</p><p> DI：依赖注入，对于IOC工厂中不同的Bean之间绑定依赖关系 </p><h3 id="1-2-实现方式"><a href="#1-2-实现方式" class="headerlink" title="1.2 实现方式"></a>1.2 实现方式</h3><ol><li><p>通过配置文件的形式实现 Bean的注册</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.IOC.Student&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>通过配置文件形式实现 依赖注入</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.IOC.Teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.IOC.Student&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意点：</p><ul><li><p>注入的类需要先注册为Bean，IOC才能从工厂中找出这个类并注入依赖关系</p></li><li><p>被注入的类必需要重写set方法，以便IOC使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Teacher teacher;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTeacher</span><span class="params">(Teacher teacher)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.teacher = teacher;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>使用property标签进行依赖注入，ref-&gt; 注入的类，若注入为常量，则使用value属性</p></li></ul><ol start="3"><li>使用注解开发模式,依赖注入使用<code>autowired</code>注解实现自动装载<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainConfiguration</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 技术学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安全即时通讯系统</title>
      <link href="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="一、课程设计目的"><a href="#一、课程设计目的" class="headerlink" title="一、课程设计目的"></a>一、课程设计目的</h1><p>本次课程设计目的是了解大型程序开发设计时所需要的步骤及其基本原则，通过团队分工合作的方式，以实践为过程，认识了软件开发的过程模型和生命周期，并且在程序设计的途中， 充分体会团队合作中沟通交流、合理分工的重要性，学习将分工完成的内容整合形成一个完整的工程。</p><h1 id="二、需求分析"><a href="#二、需求分析" class="headerlink" title="二、需求分析"></a>二、需求分析</h1><h2 id="1、系统功能："><a href="#1、系统功能：" class="headerlink" title="1、系统功能："></a>1、系统功能：</h2><p>我们站在程序使用者的角度，分析出用户所需要的功能，再结合程序设计要求，我们认为该系统需要具备以下功能：通过P2P和C&#x2F;S混合架构实现即时通讯，通过加解密函数和信息隐写实现安全传输、通过Vue框架实现前端交互界面、通过数据库进行用户管理等等。其中客户端和服务器端的具体功能如下：</p><h3 id="客户端："><a href="#客户端：" class="headerlink" title="客户端："></a>客户端：</h3><p>o 注册：与集中服务器通信完成注册，包括用户名、密码、邮箱</p><p>o 认证登陆：与集中服务器通信完成用户名、口令认证登陆</p><p>o 通信录管理功能，实现对通信录好友的添加、删除</p><p>o 即时通讯功能：实现与通信录好友间的信息发送、接收</p><p>o 透明加解密功能：采用非对称密码体制协商加密秘钥，用对称密码算法进行加解密，实现端到端的透明加解密</p><p>o 信息隐藏功能：实现以图片为载体的透明嵌入提取功能</p><p>o 人机交互界面：</p><h3 id="服务器端："><a href="#服务器端：" class="headerlink" title="服务器端："></a>服务器端：</h3><p>o 用户注册：与用户通信完成注册（做必要的检验）</p><p>o 用户验证：验证用户名和密码</p><p>o 用户公钥提供：用户在发送文件时，与用户通信发送好友的公钥</p><p>o 用户在线状态维护：用户在线时记录保存用户的在线状态、IP地址和端口号</p><p>o 用户在线列表发放：负责向用户发送其好友的在线列表（包括好友用户名、IP地址、端口号）</p><h2 id="2、可靠性要求："><a href="#2、可靠性要求：" class="headerlink" title="2、可靠性要求："></a>2、可靠性要求：</h2><ul><li>服务器和客户端之间的通信是安全的，使用加密技术来保护数据传输。</li><li>系统能够防止未经授权的访问和攻击，例如拒绝服务攻击。</li><li>系统能够确保消息的完整性和不可否认性。</li></ul><h3 id="3、安全保密要求"><a href="#3、安全保密要求" class="headerlink" title="3、安全保密要求:"></a>3、安全保密要求:</h3><ul><li>用户的注册信息，密码妥善保管，对数据库中的密码进行加盐的MD5加密处理，防止泄露，导致用户隐私泄露。</li><li>用户的通信内容被加密，以防止窃听。</li><li>系统应该使用安全的加密算法和协议，以防止被破解。</li><li>系统能够防止信息泄露，例如通过信息隐藏技术来隐藏敏感信息。</li></ul><h1 id="三、详细设计"><a href="#三、详细设计" class="headerlink" title="三、详细设计"></a>三、详细设计</h1><h2 id="系统结构设计"><a href="#系统结构设计" class="headerlink" title="系统结构设计"></a>系统结构设计</h2><p>整体结构设计</p><p>采取了前后端分离式设计模式</p><ol><li>前端使用HTML+CSS+JavaScript搭载了JQuery、WebSocket等技术，通过WebSocket与后端建立实时通信的连接，实现即时通讯功能。HTML负责定义页面结构，CSS负责样式美化，JavaScript负责与用户交互和动态更新页面内容。通过JQuery库，简化了DOM操作和事件处理等任务。WebSocket提供了浏览器与服务器之间的双向通信通道，实现了实时消息传输和即时更新的效果。</li><li>后端使用SSM（Spring+SpringMVC+MyBatis）框架技术，结合Netty等技术，以及使用Tomcat作为项目主服务器，搭建了WebSocket服务器。SSM框架提供了一种优雅简洁的方式来开发和管理后端业务逻辑，Spring提供了依赖注入和面向切面编程等特性，SpringMVC负责处理HTTP请求和路由控制，MyBatis用于数据库访问和数据持久化操作。</li></ol><p>服务器端结构设计：</p><ol><li>WebSocket服务器：使用Netty框架创建一个WebSocket服务器，负责接收和处理客户端的WebSocket连接请求。</li><li>消息处理器：服务器端实现了消息处理器，用于处理从客户端接收到的消息，对消息进行Diffie-Hellman密钥协商分配密钥，以及使用AES加密算法对消息进行加密处理。</li><li>用户管理：服务器端维护了用户管理模块，管理用户的连接状态、群组归属、身份验证、在线状态等信息。</li><li>消息分发：服务器端需要根据用户的连接状态和目标用户来进行消息的分发，使用了订阅-发布模式，将消息发布到相应的主题（单聊、群聊），订阅了该主题的接收者会自动接收到相应的消息。</li><li>持久化存储：对用户信息进行持久化存储管理，通过MySQL关系型数据库对用户实体各属性进行管理。</li><li>用户注册合法性验证：对注册用户的邮箱进行了正则匹配，保证格式正确。</li></ol><p>客户端结构设计：</p><ol><li>WebSocket客户端：使用Java提供的WebSocket客户端库，与服务器端建立WebSocket连接，发送和接收消息。</li><li>用户界面：客户端提供了一个用户界面，用于显示聊天消息、联系人列表等界面元素。</li><li>消息处理器：客户端实现了消息处理器功能，用于处理从服务器端接收到的消息，例如解析消息内容、展示消息等。</li><li>用户身份验证：客户端了提供用户身份验证的机制，确保只有合法用户可以连接和发送消息。</li><li>好友管理：客户端提供了添加好友、删除好友的接口，用于向服务器发出添加好友的POST请求。</li></ol><h2 id="模块设计"><a href="#模块设计" class="headerlink" title="模块设计"></a>模块设计</h2><p>模块功能说明</p><ol><li>注册模块（Register Module）：负责用户注册功能，对用户信息进行检验，检验正确则将用户信息添加到数据库中。</li><li>WebSocket服务器模块 ：通过Netty建立起服务器，与前端WebSocket进行交互，获取连接，实现消息的发送。</li><li>HTTP请求处理模块 ：接收HTTP请求消息，通过判断消息类型，将WebSocket请求交给下一个处理器，而将其他类型的HTTP请求进行处理。</li><li>登录模块(Security Module) ：负责用户登录功能，对登录用户信息进行合法性检测。</li><li>路由拦截模块（Filter Module）：负责拦截用户对消息发送界面和静态资源的直接访问。</li><li>异常处理模块 (Exception Module) ：负责捕获异常，并对异常进行打印处理。</li><li>单聊发送模块（Single Send Module）：处理用户之间的单聊消息发送功能。接收发送方和接收方的用户ID以及消息内容，进行消息的加密和解密处理，使用Diffie-Hellman密钥交换协议进行密钥协商，生成共享秘钥，使用AES算法对消息进行加密，将加密后的消息发送给接收方。</li><li>群聊发送模块（Group Send Module）：处理用户发送的群聊消息。接收发送方的用户ID、群组ID以及消息内容，查询群组信息，将消息发送给群组中的在线成员（除了发送方本身），实现群组内的消息广播功能。</li><li>移除用户模块（Remove User Module）：处理用户退出聊天功能。当用户关闭连接或退出聊天时，从在线用户表中移除该用户的信息，更新在线用户数量。</li><li>文件单聊发送模块（File Single Send Module）：处理用户之间的文件单聊发送功能。接收发送方和接收方的用户ID，文件名、大小、URL等信息，将文件相关信息发送给接收方。</li><li>文件群聊发送模块（File Group Send Module）：处理用户发送的文件群聊消息。接收发送方的用户ID、群组ID，文件名、大小、URL等信息，查询群组信息，将文件相关信息发送给群组中的在线成员（除了发送方本身）。</li><li>消息类型错误模块（Type Error Module）：处理消息类型错误的情况，给客户端返回错误提示信息。</li><li>持久层数据管理模块（MySQL Mapper Module）：负责和数据库进行交互，实现对持久层数据的管理。</li></ol><p>模块核心算法设计（要求有流程图）</p><p>消息发送模块</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/4.png"></p><p>登录注册模块</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/5.png"></p><p>WebSocket 连接模块</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/6.png"><br>添加&#x2F;删除好友模块</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/7.png"></p><h2 id="重要数据结构设计"><a href="#重要数据结构设计" class="headerlink" title="重要数据结构设计"></a>重要数据结构设计</h2><h3 id="1-User类"><a href="#1-User类" class="headerlink" title="1.User类"></a>1.User类</h3><p>user类是我们用于管理在通讯系统中的用户的类，其定义如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String userId;<span class="comment">//用户的唯一身份标识</span></span><br><span class="line"><span class="keyword">private</span> String username;<span class="comment">//用户的用户名</span></span><br><span class="line"><span class="keyword">private</span> String password;<span class="comment">//用户的密码</span></span><br><span class="line"><span class="keyword">private</span> String avatarUrl;<span class="comment">//用户的头像地址，在此次我们均使用相同的地址</span></span><br><span class="line"><span class="keyword">private</span> List&lt;UserInfo&gt; friendList;<span class="comment">//好友列表</span></span><br><span class="line"><span class="keyword">private</span> List&lt;GroupInfo&gt; groupList;<span class="comment">//所在群组的列表</span></span><br></pre></td></tr></table></figure><p>针对此数据结构我们设计了针对性的数据库，其中有UserId，username，Password三个列，分别对应上文的三个同名属性。其中userId为主键。关于两个列表类，即好友列表和群组列表我们无法将其存放在一个表中，遂新建两个表来存放给群组数据以及好友数据。</p><h3 id="2-Group类"><a href="#2-Group类" class="headerlink" title="2.Group类"></a>2.Group类</h3><p>接下来是我们的Group类，这个类我们将其用作记录小组的信息，这个类的属性比较简单，只有唯一的groupId为主键，以及groupname，groupname由groupId生成，故没有标识出来；再加上一个由user类组成的列表，作为成员列表。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String groupId;</span><br><span class="line"><span class="keyword">private</span> String groupName;</span><br><span class="line"><span class="keyword">private</span> String groupAvatarUrl;</span><br><span class="line"><span class="keyword">private</span> List&lt;User&gt; members;</span><br></pre></td></tr></table></figure><p>其中在数据库的设计方面，我们采用了第三范式的设计思路有效地降低冗余度，数据库由三个表组成；分别是：user，frineds和groups表。其中friends表只有user_Id和friend_Id两个列，userId作为主键，同时friednId和userId都被user表的userId作为外键所限制。group表同样如此，只有groupId和userId对应。</p><p>还有一个ResponseJson类，其属性较为特殊，是信息的状态，有成功和失败几种。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Integer</span> <span class="variable">SUCCESS_STATUS</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Integer</span> <span class="variable">ERROR_STATUS</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SUCCESS_MSG</span> <span class="operator">=</span> <span class="string">&quot;一切正常&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="程序函数清单"><a href="#程序函数清单" class="headerlink" title="程序函数清单"></a>程序函数清单</h2><p>函数名——所在文件名</p><p>RegisterServlet，所在文件名registerservlet。</p><p>函数功能</p><p>完成用户注册功能以及用户密码加盐值</p><p>参数说明</p><p>传入的参数分别为userEmail ， username以及password，都由前端传入</p><p>算法描述</p><p>我们在这里使用了try with resource来进行变量创建，这样进行查询的时候就能由java自己处理异常以及自动进行回收</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/2.png"></p><p>singlesend-文件名chatserviceimpl</p><p>函数功能是进行聊天内容的实现，我们首先将chatservice做成了接口然后分别来进行实现。</p><p>参数说明：JSONObject param, ChannelHandlerContext ctx</p><p>分别是json的对象和一个通道处理文件，来对通道进行处理。</p><p>算法描述</p><p>我们首先进行密钥分发和加密，对在互联网上传播的信息是进行加密传输的，然后将其放入websocket中传输到待接收端。</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/1.png"></p><h1 id="四、系统设计难点与亮点"><a href="#四、系统设计难点与亮点" class="headerlink" title="四、系统设计难点与亮点"></a>四、系统设计难点与亮点</h1><h2 id="1、后端服务器实现即时通讯"><a href="#1、后端服务器实现即时通讯" class="headerlink" title="1、后端服务器实现即时通讯"></a>1、后端服务器实现即时通讯</h2><p>  （1）本系统的后端服务器使用Java SSM框架（Spring+SpringMVC+MyBatis）实现前后端解耦，开发独立性高，更加灵活和轻量化，与数据库的连接代码简洁；各个功能之间层次分明，便于后续对功能的增加、删除与修改，有较高的可移植性、可拓展性和可维护性。</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/3.png"></p><p>  （2）使用Netty轻量化服务器，其高并发、传输快、封装好的特性减少了socket传输过程的冗余操作；通过配置TCP-NODELAY 使得尽可能发送大块数据，减少充斥的小块数据，减少不必要的网络流量交换与延迟。</p><p>（3）开启心跳包机制，即客户端、服务端建立连接处于ESTABLISHED状态，若超过2小时没有交流，机制就会被启动，保证实时检测，实现长连接的维持和保活。</p><h2 id="2、通过加解密与信息隐写实现的安全传输"><a href="#2、通过加解密与信息隐写实现的安全传输" class="headerlink" title="2、通过加解密与信息隐写实现的安全传输"></a>2、通过加解密与信息隐写实现的安全传输</h2><p>（1）使用Diffie-Hellman密钥交换协议，通过Netty的ChannelHandleContext 传输密钥，并使用AES对称加密对内容进行加解密，实现信息的安全传输。</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/8.png"></p><p>（2）除了传输文字消息，本系统还能进行文件、图片等多种格式内容的传输，使用户功能更加方便和多样。</p><p>  （3）设计数据库时，将用户密码进行加密存储，提高用户信息安全性。</p><h2 id="3、通过CSS，HTML，JS实现的前端人机交互界面"><a href="#3、通过CSS，HTML，JS实现的前端人机交互界面" class="headerlink" title="3、通过CSS，HTML，JS实现的前端人机交互界面"></a>3、通过CSS，HTML，JS实现的前端人机交互界面</h2><p>  本系统配置了jQuery，使用websocket 实现对Netty服务器的监听和传输，并通过HTML+CSS+JavaScript实现前端的人机交互界面，美观便捷地向用户提供了操作界面。其中注册界面、登录界面和通讯系统主界面实现了自动跳转，其中注册时设置了邮箱差错检测，通讯系统界面可以实现添加删除好友功能、群聊功能、发送emoji功能、传输文件功能等多种丰富便捷的通讯功能。</p><h1 id="五、设计成果"><a href="#五、设计成果" class="headerlink" title="五、设计成果"></a>五、设计成果</h1><p>我们设计的安全即时通讯系统实现了以下功能：</p><h2 id="登陆功能界面："><a href="#登陆功能界面：" class="headerlink" title="登陆功能界面："></a>登陆功能界面：</h2><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/9.png"></p><p>如果输入不正确，则弹出：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/10.png"></p><h2 id="注册功能界面："><a href="#注册功能界面：" class="headerlink" title="注册功能界面："></a>注册功能界面：</h2><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/11.png"></p><p>在注册中，我们也实现了检验功能，若输入不正确的信息，则显示：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/12.png"></p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/13.png"></p><h2 id="通讯系统主界面："><a href="#通讯系统主界面：" class="headerlink" title="通讯系统主界面："></a>通讯系统主界面：</h2><p>登录成功后，原始界面显示如下，ADD与DELETE在聊天框右上角，可以通过ADD进行好友添加，DELETE进行好友删除</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/14.png"></p><h2 id="通讯录管理功能：添加、删除好友"><a href="#通讯录管理功能：添加、删除好友" class="headerlink" title="通讯录管理功能：添加、删除好友"></a>通讯录管理功能：添加、删除好友</h2><p>设定用户的主键为邮箱，通过搜索用户邮箱进行删除,通过搜索Caicai用户的邮箱进行删除</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/15.png"></p><p>删除Caicai好友成功：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/16.png"></p><p>点击ADD，添加好友，通过输入好友Caicai邮箱进行添加：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/17.png"></p><p>添加成功后显示用户hr已添加Caicai为好友</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/18.png"></p><h2 id="即时通讯功能："><a href="#即时通讯功能：" class="headerlink" title="即时通讯功能："></a>即时通讯功能：</h2><p>添加好友后，可以开启实时通讯系统，若好友不在线，发送消息时弹出窗口进行提示，但仍可以发送信息：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/19.png"></p><p>点击输入框左侧的圆脸按钮，发送表情：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/20.png"></p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/21.png"></p><p>点击输入框左侧文件夹按钮，上传文件：</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/26.png"></p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/22.png"></p><p>实现群组功能，登陆后可以进行群聊，666m在群里发送消息</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/23.png"></p><p>用户hr在群里发送消息，同时可以接收到好友666m在群聊Group001中发送的消息</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/24.png"></p><p>用户hooray可以接收到好友hr与好友666m发送的群聊消息</p><p><img src="/2023/09/25/%E5%AE%89%E5%85%A8%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/25.png"></p><h1 id="六、设计心得"><a href="#六、设计心得" class="headerlink" title="六、设计心得"></a>六、设计心得</h1><p>在本次项目的程序设计中，我们对网络传输协议的混合架构、加解密和信息隐藏、实现前端界面、数据库管理等所学知识的理解更加深入，通过不断解决设计过程中的各种问题，收获了宝贵的实践经验。如在设计数据库时，具体关系如何实现、哪个是主码、需不需要外键、触发器等问题经过了许多尝试和推敲；在使用Tomcat时因版本不一致导致无法部署；由于负责后端的两位组员使用的jdk版本不一致（分别为jdk1.8、jakarta和jdk11、javax），其中jdk11的新特性导致许多地方需要修改，增大了工作量；在前后端接口设计部分遇到许多技术问题，最终通过学习和使用js中的API实现等等。在遇到问题和解决问题的过程中，我们积累了很多宝贵经验，加深了对知识的理解。</p><p>同时，我们认识到开始实现前的整体设计的重要性。由于设计初期我们对所需功能理解和认识的不全面，实现过程中不断遇到需要大量添加、修改甚至更换方法的情况，导致进展没有达到预期的速度。我们认识到团队合作中分工和沟通的重要性，在缺少合理分工和对明确目标的认识时，达到预期成果就会遇到困难。每位成员都完成自己需要负责的内容部分并及时沟通，才能更好地将设计成果整合形成一个完整的大型程序。</p><h1 id="七、团队分工说明"><a href="#七、团队分工说明" class="headerlink" title="七、团队分工说明"></a>七、团队分工说明</h1><p>王惟：服务器的开发，包括用户注册、验证、公钥提供和在线状态维护，websocket逻辑设计与实现，文档书写</p><p>夏鸿睿：客户端的开发，包括注册、认证登录、通信录管理和即时通讯功能，数据库设计与实现，文档书写</p><p>魏瑞敏 ：协调团队成员工作，文档书写，完成前端登录注册聊天界面设计实现，页面调整，功能添加与接口实现</p><p>杨雅雯：客户端的端到端透明加解密功能，文档书写，聊天与通讯录设计，保密通信设计，接口实现</p><p>范茜文：查阅javaSSM框架、netty及服务器的相关资料，文档书写，登录注册聊天与系统结构逻辑设计，接口实现</p>]]></content>
      
      
      <categories>
          
          <category> java-project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> webSocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单邮件收发系统</title>
      <link href="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>Maven+Java Socket+JavaMail+wireshark</p><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p>1、Mail 类 封装一封邮件中所应包含的内容</p><p>2、serveSocket 用于接收客户连接请求，参数port指定服务器要绑定的端口（服务器要监听的端口），参数backlog指定客户连接请求队列的长度</p><p>3、MailSender类 用于发送邮件，构造器中封装了properties配置变量，sender() 方法，通过session与服务器进行交互建立transport ；createMimeMessage （）方法 用于封装一个邮件信息，使用MimeMessage类进行封装<br>4、Pattern 类是Java中用于编译正则表达式的类</p><p>5、Matcher 类是Java中用于执行匹配操作的类</p><h3 id="定义参数变量"><a href="#定义参数变量" class="headerlink" title="定义参数变量"></a>定义参数变量</h3><p>1、Session 用于收集JavaMail运行过程中的环境信息，解析上文提到的properties配置，找到对应配置信息</p><p>2、properties 配置邮件发送的主机，服务器，以及相关配置参数</p><p>3、用于读写的io：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">input</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">InputStreamReader</span> <span class="variable">inputStreamReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">OutputStream</span> <span class="variable">output</span> <span class="operator">=</span> <span class="literal">null</span> ;</span><br><span class="line"><span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>4、Map&lt;String, String&gt; JsonData 封装http返回的json数据键值对</p><p>5、String[] KeyWords  包含http消息体中关键词组</p><p>6、Map&lt;String, String&gt; FormData(String data) 利用 java.net.URLDecoder 对消息体消息进行解码</p><h2 id="模块结构"><a href="#模块结构" class="headerlink" title="模块结构"></a>模块结构</h2><p>1、serve 类 &#x3D;&#x3D;&gt; 接收客户连接请求，获取连接ip和端口（远程服务器的端口），创建receive类，接收文件，并进行邮件转发</p><p>2、Receive类 &#x3D;&#x3D;&gt; 通过http协议接收邮件内容，对发送者和接收者邮箱进行差错检查，创建Mail类，存储邮件消息，处理http消息体内容，并创建MailSender对象，进行邮件转发</p><p>3、Mail类 &#x3D;&#x3D;&gt; 作为Bean 存储邮件消息</p><p>4、MailSender类 &#x3D;&#x3D;&gt;接收邮件消息，创建properties配置，创建session读取配置，建立连接transport ，封装一封完整邮件，发送</p><h2 id="算法流程"><a href="#算法流程" class="headerlink" title="算法流程"></a>算法流程</h2><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/NetWork.png" alt="NetWork.png"></p><h2 id="功能模块实现要点"><a href="#功能模块实现要点" class="headerlink" title="功能模块实现要点"></a>功能模块实现要点</h2><p>1、接收Http消息时，需要区分消息头和消息体，中间会有空行，此时应隔开</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image.png" alt="image.png"></p><p>2、消息体消息处理 </p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image1.png" alt="image.png"></p><p>wireshark抓包分析可知，均为json 键值对消息，使用Map来接收，同时消息体消息需要进行url解码，否则会出现乱码</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image2.png" alt="image.png"></p><p>3、关键消息的提取，通过用接收的数据与关键词数组进行匹配来接收数据</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image3.png" alt="image.png"></p><p>4、提取消息，消息可能包含很多其他内容，我们利用正则匹配和字符剪切获取我们所需信息</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image4.png" alt="image.png"></p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image5.png" alt="image.png"></p><p>5、差错检查和处理，利用正则表达式对邮箱格式进行检查，若错误，返回错误信息</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image6.png" alt="image.png"></p><p>6、建立连接，利用session读取配置文件，同时开启debug，获得log信息，获取邮件传输对象</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image7.png" alt="image.png"></p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image8.png" alt="image.png"></p><p>7、邮件的封装，利用MimeMessage类相关方法对邮件内容进行格式化封装</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image9.png" alt="image.png"></p><h2 id="本机测试结果"><a href="#本机测试结果" class="headerlink" title="本机测试结果"></a>本机测试结果</h2><p>   设置代理，利用qq邮箱发送（可截个网址改为http的图）</p><p>   <img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image10.png" alt="image.png"></p><p>   <img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image11.png" alt="image.png"></p><p>   wireshark抓包结果 上为http，下为smtp</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image12.png" alt="image.png"></p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image13.png" alt="image.png"></p><p>输出的log信息</p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image14.png" alt="image.png"></p><p><img src="/2023/09/25/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E6%94%B6%E5%8F%91%E7%B3%BB%E7%BB%9F/image15.png" alt="image.png"></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>1、处理http消息时，初始时为区分开消息头和消息体的提取，导致，读取时用时过长，且读取信息不够完整，此处耗时较久，后通过阅读http协议接收相关情况，解决</p><p>2、使用javamail发送邮件时，会由于读取邮件正文不完整，导致抛出空指针异常，后对接收邮件正文进行正则处理，解决</p><h2 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h2><p>jdk1.8  </p><p>JavaMail1.4.7 </p><p>Java activation1.1</p><h2 id="代码配置"><a href="#代码配置" class="headerlink" title="代码配置"></a>代码配置</h2><p>配置Maven pom.xml 文件 导入 JavaMail1.4.7 和 activation1.1</p><h2 id="实现环境"><a href="#实现环境" class="headerlink" title="实现环境"></a>实现环境</h2><p>windows10+FireFox（其他浏览器可能存在加密问题，导致抓不到包）</p>]]></content>
      
      
      <categories>
          
          <category> java-project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaMail </tag>
            
            <tag> socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>非关系型数据库--NoSQL</title>
      <link href="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/"/>
      <url>/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/</url>
      
        <content type="html"><![CDATA[<h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h2><p>NoSQL(Not only SQL)是对不同于传统的关系数据库的数据库管理系统的统称，即广义地来说可以把所有不是关系型数据库的数据库统称为NoSQL。</p><p>NoSQL 数据库专门构建用于特定的数据模型，并且具有灵活的架构来构建现代应用程序。NoSQL 数据库使用各种数据模型来访问和管理数据。这些类型的数据库专门针对需要大数据量、低延迟和灵活数据模型的应用程序进行了优化，这是通过放宽其他数据库的某些数据一致性限制来实现的。</p><h3 id="1-1-常见分类"><a href="#1-1-常见分类" class="headerlink" title="1.1 常见分类"></a>1.1 常见分类</h3><h4 id="键值数据库"><a href="#键值数据库" class="headerlink" title="键值数据库"></a>键值数据库</h4><p>键值：键值数据库是高度可分区的，并且允许以其他类型的数据库无法实现的规模进行水平扩展。</p><p>键值数据库是一种非关系数据库，它使用简单的键值方法来存储数据。键值数据库将数据存储为键值对集合，其中键作为唯一标识符。键和值都可以是从简单对象到复杂复合对象的任何内容。键值数据库是高度可分区·的，并且允许以其他类型的数据库无法实现的规模进行水平扩展。</p><h4 id="内存数据库"><a href="#内存数据库" class="headerlink" title="内存数据库"></a>内存数据库</h4><p>内存：游戏和广告技术应用程序具有排行榜、会话存储和实时分析等使用案例，它们需要微秒响应时间并且可能随时出现大规模的流量高峰。</p><h4 id="文档数据库"><a href="#文档数据库" class="headerlink" title="文档数据库"></a>文档数据库</h4><p>文档：在应用程序代码中，数据通常表示为对象或 JSON 文档，因为对开发人员而言它是高效和直观的数据模型。</p><p>文档数据库是一种非关系数据库，旨在将数据作为类 JSON 文档存储和查询。文档数据库让开发人员可以使用他们在其应用程序代码中使用的相同文档模型格式，更轻松地在数据库中存储和查询数据。文档和文档数据库的灵活、半结构化和层级性质允许它们随应用程序的需求而变化。文档模型可以很好地与目录、用户配置文件和内容管理系统等使用案例配合使用，其中每个文档都是唯一的，并会随时间而变化。文档数据库支持灵活的索引、强大的临时查询和文档集合分析。</p><h4 id="图形数据库"><a href="#图形数据库" class="headerlink" title="图形数据库"></a>图形数据库</h4><p>图形：图形数据库旨在轻松构建和运行与高度连接的数据集一起使用的应用程序。热门图形数据库包括 Neo4j 和 Giraph。图形数据库专门用于存储和导航关系。关系是图形数据库中的一等公民，图形数据库的大部分价值都源自于这些关系。图形数据库使用节点来存储数据实体，并使用边缘来存储实体之间的关系。边缘始终有一个开始节点、结束节点、类型和方向，并且边缘可以描述父子关系、操作、所有权等。一个节点可以拥有的关系的数量和类型没有限制。</p><p>图形数据库中的图形可依据具体的边缘类型进行遍历，或者也可对整个图形进行遍历。在图形数据库中，遍历联结或关系非常快，因为节点之间的关系不是在查询时计算的，而是留存在数据库中。在社交网络、推荐引擎和欺诈检测等使用案例中，您需要在数据之间创建关系并快速查询这些关系，此时，图形数据库更具优势。</p><h4 id="搜索数据库"><a href="#搜索数据库" class="headerlink" title="搜索数据库"></a><strong>搜索数据库</strong></h4><p>搜索：许多应用程序输出日志以帮助开发人员解决问题。搜索引擎数据库是一种非关系数据库，专用于数据内容的搜索。搜索引擎数据库使用索引对数据之间的相似特征进行分类，并增强搜索功能。搜索引擎数据库经过优化，可处理可能是长数据，半结构数据或非结构数据的数据，并且它们通常提供专门的方法，例如全文搜索，复杂的搜索表达式和搜索结果排名。</p><h3 id="1-2-BASE原则"><a href="#1-2-BASE原则" class="headerlink" title="1.2 BASE原则"></a>1.2 BASE原则</h3><p> BASE：Basically Available, Soft-state, Eventually Consistent。 由 Eric Brewer 定义。BASE是NoSQL数据库通常对可用性及一致性的弱要求原则:</p><ul><li><p>Basically Availble –基本可用</p></li><li><p>Soft-state –软状态&#x2F;柔性事务。 “Soft state” 可以理解为”无连接”的, 而 “Hard state” 是”面向连接”的</p></li><li><p>Eventual Consistency – 最终一致性， 也是是 ACID 的最终目的。</p></li></ul><p>BASE模型是传统ACID模型的反面，不同于ACID，BASE强调牺牲高一致性，从而获得可用性，数据允许在一段时间内的不一致，只要保证最终一致就可以了。</p><h3 id="1-3-特点"><a href="#1-3-特点" class="headerlink" title="1.3 特点"></a>1.3 特点</h3><ol><li>易扩展</li></ol><p>当一台机器不够用了，很容易添加一个新的服务器，只要配置好环境之后，自动使用。<br>2. 大数据量、高性能</p><p>读写速度快，nosql基本都是内存数据库，比硬盘存储要快很多，查询数据快。<br>3. 灵活性</p><p>NoSQL无需事先为 要存储的数据 建立字段，随时可以存储自定义的数据格式，在关系型数据库添加字段和删除字段是非常麻烦的。<br>4. 高可用</p><p>一台机器宕机出问题了，不会影响其他的机器。</p><h2 id="MongoDB技术原理"><a href="#MongoDB技术原理" class="headerlink" title="MongoDB技术原理"></a>MongoDB技术原理</h2><p>MongoDB是一个基于分布式文件存储的数据库，使用BSON格式保存数据，使用B-树作为索引结构，每个节点即保存数据又保存索引，可以为WEB应用提供可拓展、高性能、易部署的数据存储解决方案。</p><h3 id="BSON"><a href="#BSON" class="headerlink" title="BSON"></a>BSON</h3><p>BSON是一种类json的一种二进制形式的存储格式，简称Binary JSON，它和JSON一样，支持内嵌的文档对象和数组对象，但是BSON有JSON没有的一些数据类型，如Date和Binary Data类型。BSON可以做为网络数据交换的一种存储形式,是一种schema-less的存储形式，它的优点是灵活性高，但它的缺点是空间利用率不是很理想。</p><h3 id="MongoDB索引底层原理"><a href="#MongoDB索引底层原理" class="headerlink" title="MongoDB索引底层原理"></a>MongoDB索引底层原理</h3><p>MongoDB使用B-树，所有节点都有Data域，只要找到指索引就可以进行访问，单次查询从结构上来看要快于MySql。</p><h4 id="B-树"><a href="#B-树" class="headerlink" title="B-树"></a>B-树</h4><p>B-树的特点:<br>(1) 多路 非二叉树<br>(2) 每个节点 既保存数据 又保存索引<br>(3) 搜索时 相当于二分查找</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/20210107091340399.png" alt="20210107091340399.png"></p><h3 id="MongoDB架构"><a href="#MongoDB架构" class="headerlink" title="MongoDB架构"></a>MongoDB架构</h3><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image.png" alt="image.png"></p><p>MongoDB 与 MySQL 中的架构相差不多，底层都使用了可插拔的存储引擎以满足用户的不同需要。用户可以根据程序的数据特征选择不同的存储引擎,在最新版本的 MongoDB 中使用了 WiredTiger 作为默认的存储引擎，WiredTiger 提供了不同粒度的并发控制和压缩机制，能够为不同种类的应用提供了最好的性能和存储率。<br>在存储引擎上层的就是 MongoDB 的数据模型和查询语言了，由于 MongoDB 对数据的存储与 RDBMS有较大的差异，所以它创建了一套不同的数据模型和查询语言。</p><h3 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h3><ul><li><p>内嵌<br>内嵌的方式指的是把相关联的数据保存在同一个文档结构之中。MongoDB的文档结构允许一个字段或者一个数组内的值作为一个嵌套的文档</p></li><li><p>引用<br>引用方式通过存储数据引用信息来实现两个不同文档之间的关联,应用程序可以通过解析这些数据引用来访问相关数据</p></li></ul><h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>MongoDB的应用场景包括<strong>物流、社交、物联网、游戏等领域</strong>。在物流场景中，MongoDB可以存储订单信息，订单状态在运送过程中会不断更新，以MongoDB内嵌数组的形式来存储，一次查询就能将订单所有的变更读取出来。在社交场景中，MongoDB可以存储用户信息，以及用户发表的朋友圈信息，通过地理位置索引实现附近的人、地点等功能。在物联网场景中，MongoDB可以存储所有接入的智能设备信息，以及设备汇报的日志信息，并对这些信息进行多维度的分析。此外，MongoDB还适合用于日志存储、敏捷开发、地理位置信息存储、json存储等场景。MongoDB不适合高度事务性的系统，例如银行或会计系统，以及传统的商业智能应用。</p><p>案例1</p><p>用在应用服务器的日志记录，查找起来比文本灵活，导出也很方便。也是给应用练手，从外围系统开始使用MongoDB。 用在一些第三方信息的获取或者抓取，因为MongoDB的schema-less，所有格式灵活，不用为了各种格式不一样的信息专门设计统一的格式，极大的减少开发的工作。</p><p>案例2</p><p>使用MongoDB做了O2O快递应用，·将送快递骑手、快递商家的信息（包含位置信息）存储在 MongoDB，然后通过 MongoDB 的地理位置查询，这样很方便的实现了查找附近的商家、骑手等功能，使得快递骑手能就近接单，</p><h2 id="DEMO展示"><a href="#DEMO展示" class="headerlink" title="DEMO展示"></a>DEMO展示</h2><h3 id="MongoDB的安装"><a href="#MongoDB的安装" class="headerlink" title="MongoDB的安装"></a>MongoDB的安装</h3><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image1.png" alt="image1.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image2.png" alt="image2.png"></p><p>可视化工具MongoDB Compass</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image3.png" alt="image3.png"></p><h3 id="基本功能展示"><a href="#基本功能展示" class="headerlink" title="基本功能展示"></a>基本功能展示</h3><p>新增数据库和表</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image4.png" alt="image4.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image5.png" alt="image5.png"></p><p>插入</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image6.png" alt="image6.png"></p><p>修改</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image7.png" alt="image7.png"></p><p>按条件查询</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image8.png" alt="image8.png"></p><p>删除</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image9.png" alt="image9.png"></p><h3 id="java连接MongoDB-使用基本CRUD操作"><a href="#java连接MongoDB-使用基本CRUD操作" class="headerlink" title="java连接MongoDB,使用基本CRUD操作"></a>java连接MongoDB,使用基本CRUD操作</h3><p>建立连接</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image10.png" alt="image10.png"></p><p>新增</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image11.png" alt="image11.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image12.png" alt="image12.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image13.png" alt="image13.png"></p><p>删除</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image14.png" alt="image14.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image15.png" alt="image15.png"></p><p>插入</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image16.png" alt="image16.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image17.png" alt="image17.png"></p><p>查找</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image18.png" alt="image18.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image19.png" alt="image19.png"></p><p>按名字查找</p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image20.png" alt="image20.png"></p><p><img src="/2023/09/22/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL/image21.png" alt="image21.png"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过对MongoDB 基本CRUD的使用，可以发现，MongoDB的query语句比起Mysql来说更为简洁直接，而数据的存储也是明显使用键值对的方式进行的，并且配备有对应独特的ObjectId，方便查询。同时，条件查询的语句更为简洁明白，添加，删除字段的方式更加简单，明白，不用刻意去强调数据的类型。但是，MongoDB无事务处理，附加功能和报表支持也不好，在与编程语言结合这一点上远不如mysql已经开发好的众多方法来的快速简单。</p>]]></content>
      
      
      <categories>
          
          <category> 技术学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NOSQL </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
